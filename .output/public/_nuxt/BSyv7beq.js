import{_ as R,a as q,b as F,c as M}from"./BZKPwRd8.js";import{B as D}from"./CANzqgle.js";import{r as w,I as K,J as G,m as N,K as H,L as b,w as P,M as E,b as L,N as J,T as Q,A as j,O as z,P as O,q as Y,Q as Z,u as U,c as y,a as f,F as W,v as X,o as C,t as _,n as ee,_ as te}from"./DqcxQPwl.js";import{u as se}from"./CT2Wu6zw.js";import{r as B,g as oe,h as x,j as V}from"./CkejLQgn.js";import{g as ne}from"./DO5mQ-_L.js";function le(t){let e;const s=w(!1),o=K({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(n){o.text=n}function l(){const n=o.parent,u=i.ns;if(!n.vLoadingAddClassList){let d=n.getAttribute("loading-number");d=Number.parseInt(d)-1,d?n.setAttribute("loading-number",d.toString()):(B(n,u.bm("parent","relative")),n.removeAttribute("loading-number")),B(n,u.bm("parent","hidden"))}c(),a.unmount()}function c(){var n,u;(u=(n=i.$el)==null?void 0:n.parentNode)==null||u.removeChild(i.$el)}function v(){var n;t.beforeClose&&!t.beforeClose()||(s.value=!0,clearTimeout(e),e=setTimeout(g,400),o.visible=!1,(n=t.closed)==null||n.call(t))}function g(){if(!s.value)return;const n=o.parent;s.value=!1,n.vLoadingAddClassList=void 0,l()}const m=N({name:"ElLoading",setup(n,{expose:u}){const{ns:d,zIndex:A}=se("loading");return u({ns:d,zIndex:A}),()=>{const p=o.spinner||o.svg,I=b("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...p?{innerHTML:p}:{}},[b("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),$=o.text?b("p",{class:d.b("text")},[o.text]):void 0;return b(Q,{name:d.b("fade"),onAfterLeave:g},{default:P(()=>[E(L("div",{style:{backgroundColor:o.background||""},class:[d.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[b("div",{class:d.b("spinner")},[I,$])]),[[J,o.visible]])])})}}}),a=G(m),i=a.mount(document.createElement("div"));return{...H(o),setText:r,removeElLoadingChild:c,close:v,handleAfterLeave:g,vm:i,get $el(){return i.$el}}}let h;const ae=function(t={}){if(!oe)return;const e=re(t);if(e.fullscreen&&h)return h;const s=le({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(h=void 0)}});ie(e,e.parent,s),S(e,e.parent,s),e.parent.vLoadingAddClassList=()=>S(e,e.parent,s);let o=e.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",e.parent.setAttribute("loading-number",o),e.parent.appendChild(s.$el),j(()=>s.visible.value=e.visible),e.fullscreen&&(h=s),s},re=t=>{var e,s,o,r;let l;return z(t.target)?l=(e=document.querySelector(t.target))!=null?e:document.body:l=t.target||document.body,{parent:l===document.body||t.body?document.body:l,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:l===document.body&&((s=t.fullscreen)!=null?s:!0),lock:(o=t.lock)!=null?o:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:l}},ie=async(t,e,s)=>{const{nextZIndex:o}=s.vm.zIndex||s.vm._.exposed.zIndex,r={};if(t.fullscreen)s.originalPosition.value=x(document.body,"position"),s.originalOverflow.value=x(document.body,"overflow"),r.zIndex=o();else if(t.parent===document.body){s.originalPosition.value=x(document.body,"position"),await j();for(const l of["top","left"]){const c=l==="top"?"scrollTop":"scrollLeft";r[l]=`${t.target.getBoundingClientRect()[l]+document.body[c]+document.documentElement[c]-Number.parseInt(x(document.body,`margin-${l}`),10)}px`}for(const l of["height","width"])r[l]=`${t.target.getBoundingClientRect()[l]}px`}else s.originalPosition.value=x(e,"position");for(const[l,c]of Object.entries(r))s.$el.style[l]=c},S=(t,e,s)=>{const o=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?B(e,o.bm("parent","relative")):V(e,o.bm("parent","relative")),t.fullscreen&&t.lock?V(e,o.bm("parent","hidden")):B(e,o.bm("parent","hidden"))},k=Symbol("ElLoading"),T=(t,e)=>{var s,o,r,l;const c=e.instance,v=n=>O(e.value)?e.value[n]:void 0,g=n=>{const u=z(n)&&(c==null?void 0:c[n])||n;return u&&w(u)},m=n=>g(v(n)||t.getAttribute(`element-loading-${Z(n)}`)),a=(s=v("fullscreen"))!=null?s:e.modifiers.fullscreen,i={text:m("text"),svg:m("svg"),svgViewBox:m("svgViewBox"),spinner:m("spinner"),background:m("background"),customClass:m("customClass"),fullscreen:a,target:(o=v("target"))!=null?o:a?void 0:t,body:(r=v("body"))!=null?r:e.modifiers.body,lock:(l=v("lock"))!=null?l:e.modifiers.lock};t[k]={options:i,instance:ae(i)}},ce=(t,e)=>{for(const s of Object.keys(e))Y(e[s])&&(e[s].value=t[s])},ue={mounted(t,e){e.value&&T(t,e)},updated(t,e){const s=t[k];e.oldValue!==e.value&&(e.value&&!e.oldValue?T(t,e):e.value&&e.oldValue?O(e.value)&&ce(e.value,s.options):s==null||s.instance.close())},unmounted(t){var e;(e=t[k])==null||e.instance.close(),t[k]=null}},de={class:"bwList tw-mx-auto"},ve={class:"bw-list-main tw-flex tw-flex-wrap tw-justify-between tw-gap-4"},me={class:"bw-list-item-title"},fe={class:"bw-list-item-content"},pe={class:"look-nums tw-flex tw-mt-[10px]"},ge={class:"tw-text-[14px] tw-font-[500] tw-text-text999"},we={class:"tw-flex tw-justify-end"},be={class:"tw-flex tw-justify-center"},_e={class:"tw-mr-[6px]"},xe={class:"tw-flex tw-justify-end tw-mt-[42px] max-md:tw-mt-[24px]"},ye=N({__name:"BwList",props:{getListApi:{type:Function,required:!0},searchValue:{type:String,required:!1,default:""}},setup(t,{expose:e}){const s=t,o=w([]),r=w(0),l=w(1),c=w(!1),v=async()=>{c.value=!0;try{const a=await s.getListApi({page:l.value,categoryId:"",keyword:s.searchValue});r.value=a==null?void 0:a.totalPage,l.value=a==null?void 0:a.page,o.value=a==null?void 0:a.list}finally{c.value=!1}},g=a=>{l.value=a,console.log("页码变化:",a),v()};U();const m=a=>{const i=ne(`/post/${a.id}.html`);ee(i)};return e({getList:v}),(a,i)=>{const n=q,u=D,d=R,A=ue;return C(),y("div",de,[E((C(),y("div",ve,[(C(!0),y(W,null,X(o.value,(p,I)=>(C(),y("div",{class:"bw-list-item tw-w-full sm:tw-w-[48%] lg:tw-w-[29.3%] tw-px-[16px] tw-pt-[16px] tw-pb-[22px]",key:I},[L(n,{class:"tw-mb-[20px] tw-rounded-[26px] tw-w-[100%] tw-min-h-[229px]",src:p.cover,type:p.isVideo===1?"image":"video"},null,8,["src","type"]),f("div",me,_(p.title),1),f("div",fe,_(p.desc),1),f("div",pe,[i[0]||(i[0]=f("img",{src:F,class:"tw-w-[18px] tw-mr-[8px]",loading:"lazy",alt:""},null,-1)),f("span",ge,_(p.visitNum)+_(a.$t("common.万人看过")),1)]),f("div",we,[L(u,{type:"border",class:"tw-w-[140px] tw-text-center",onClick:$=>m(p)},{default:P(()=>[f("div",be,[f("span",_e,_(a.$t("common.阅读全文")),1),i[1]||(i[1]=f("img",{src:M,loading:"lazy",class:"tw-w-[18px]",alt:""},null,-1))])]),_:2},1032,["onClick"])])]))),128))])),[[A,c.value]]),f("div",xe,[L(d,{"current-page":l.value,"page-count":r.value,onCurrentChange:g},null,8,["current-page","page-count"])])])}}}),Ie=te(ye,[["__scopeId","data-v-df707a55"]]);export{Ie as B};
