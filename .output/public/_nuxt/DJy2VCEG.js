import{u as g,b as p}from"./D0emppTM.js";import{s as _,c as i,o as l,a as t,t as u,d as w,_ as f,b as v,J as y,K as h,L as b,r as R,B as x,G as B,m as r}from"./DMecSRgZ.js";const N={class:"goods-row"},$={class:"goods-img"},G=["src"],C={class:"goods-next"},I={class:"goods-title"},S={class:"goods-buy"},T={class:"goods-price"},k=_({__name:"BwGoodsRow",props:{goodsRow:{type:Object,default:()=>({})}},setup(e){const n=e,c=()=>{let o={timestamp:Date.now(),type:"buyGoods",data:{id:n.goodsRow.id,url:n.goodsRow.url,goods:n.goodsRow}},s=JSON.stringify(o);JSCallNative.postMessage(s)};return(o,s)=>(l(),i("div",N,[t("div",$,[t("img",{src:e.goodsRow.cover,alt:""},null,8,G)]),t("div",C,[t("div",I,u(e.goodsRow.title),1),t("div",S,[t("div",T,[s[0]||(s[0]=t("span",null,"¥",-1)),w(" "+u(((e.goodsRow.price||0)/100).toFixed(2)),1)]),t("div",{class:"goods-tobuy",onClick:c},"立即购买")])])]))}}),M=f(k,[["__scopeId","data-v-ebd7c69e"]]),V=(e,n)=>{const c={};let o=0;const s=e.replace(/##insert_goods##/g,()=>{const a=`goods-${o}`;return c[a]=n[o++],o>n.length&&(o=0),`<div class="${a}"></div>`});return setTimeout(()=>{for(const a in c){const d=document.querySelector(`.${a}`),m=v(M,{goodsRow:c[a]});y(m,d)}}),s},A={class:"tw-px-[1rem] tw-py-[0.5rem]"},D=["src","alt"],H={class:"tw-text-basecolor tw-font-[500] tw-text-[1.25rem] tw-mb-[1rem]"},J=["innerHTML"],O=_({__name:"info-[id]",setup(e){h("none");const c=b().params.id,o=R({}),s=async()=>{o.value=await p(c)},a=x(()=>{var d;return V(((d=o.value)==null?void 0:d.content)||"",o.value.relGoods)});return g("info",s),(d,m)=>(l(),i("div",A,[r(o).cover?(l(),i("img",{key:0,class:"tw-w-full tw-object-contain tw-mb-[1.25rem]",src:r(o).cover,alt:r(o).title},null,8,D)):B("",!0),t("h1",H,u(r(o).title),1),t("div",{innerHTML:r(a)},null,8,J)]))}});export{O as _};
