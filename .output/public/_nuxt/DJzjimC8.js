import{_ as S,a as b,S as U}from"./DyQf75Om.js";import{_ as B}from"./BZKPwRd8.js";import{u as E,a as W}from"./Br_K6izv.js";import{m as q,U as F,u as N,r as o,c as v,a as c,C as f,E as P,p as e,F as R,v as V,b as x,q as y,o as l,n as I,_ as A}from"./DqcxQPwl.js";import{a as D}from"./DO5mQ-_L.js";import"./CANzqgle.js";import"./CkejLQgn.js";import"./CUTHK6q7.js";import"./BIF3Ihtd.js";import"./CEfqHtPh.js";const T={class:"dd-container"},$={class:"search-box lg:tw-flex xl:tw-pt-[56px] lg:tw-pt-[44px] ss:tw-pt-[32px]"},j={class:"search-content"},Q={class:"tw-flex tw-justify-end tw-mt-[42px] max-md:tw-mt-[24px]"},z={class:"lg:tw-w-[33.9%] xl:tw-pl-[52px] lg:tw-pl-[30px]"},G=q({__name:"search",setup(H){var h,w;const _=F();N();const n=o(((h=_.query.kw)==null?void 0:h.toString())||""),s=o(Number(((w=_.query.png)==null?void 0:w.toString())||1)),g=o(0),u=o([]),m=o([]),d=o([]),L=()=>{I({query:{kw:encodeURIComponent(n.value),png:s.value}})},k=D(["kw","png"],async()=>{const r=await W({page:s.value||1,keyword:n.value||""});console.log(r,"result");const{totalPage:a,page:i,list:p,lasts:t,categories:C}=r;console.log(r,"result"),s.value=i||1,g.value=a,u.value=p,d.value=t,m.value=C});return E("search",k),(r,a)=>{const i=b,p=B;return l(),v("div",T,[c("div",$,[c("div",j,[e(u).length?P("",!0):(l(),f(U,{key:0})),(l(!0),v(R,null,V(e(u),t=>(l(),f(i,{key:`article-${t.id}`,article:t,class:"card-row-item"},null,8,["article"]))),128)),c("div",Q,[x(p,{"current-page":e(s),"onUpdate:currentPage":a[0]||(a[0]=t=>y(s)?s.value=t:null),"page-count":e(g),onCurrentChange:L},null,8,["current-page","page-count"])])]),c("div",z,[x(S,{searchWorld:e(n),"onUpdate:searchWorld":a[1]||(a[1]=t=>y(n)?n.value=t:null),categoriesList:e(m),lastsList:e(d)},null,8,["searchWorld","categoriesList","lastsList"])])])])}}}),ot=A(G,[["__scopeId","data-v-f0b84523"]]);export{ot as default};
