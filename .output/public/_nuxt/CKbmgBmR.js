import{_ as b,a as B,S as U}from"./Cybb8vLs.js";import{a as W}from"./GNPJVV6z.js";import{u as E,a as F}from"./D0emppTM.js";import{s as N,L as P,u as R,r as o,c as x,a as c,D as f,G as V,m as e,F as q,n as D,b as v,p as L,o as l,_ as I}from"./DMecSRgZ.js";import{a as A}from"./DsK5qlQY.js";import"./CvnM0zfO.js";import"./BHzyI50J.js";import"./BhTgSg4i.js";import"./BIF3Ihtd.js";import"./DObWwqqW.js";const $={class:"dd-container"},j={class:"search-box lg:tw-flex xl:tw-pt-[56px] lg:tw-pt-[44px] ss:tw-pt-[32px]"},G={class:"search-content"},Q={class:"tw-flex tw-justify-end tw-mt-[42px] max-md:tw-mt-[24px]"},T={class:"lg:tw-w-[33.9%] xl:tw-pl-[52px] lg:tw-pl-[30px]"},z=N({__name:"search",setup(H){var h,w;const _=P(),y=R(),r=o(((h=_.query.kw)==null?void 0:h.toString())||""),s=o(Number(((w=_.query.png)==null?void 0:w.toString())||1)),d=o(0),u=o([]),m=o([]),g=o([]),k=()=>{y.push({query:{kw:encodeURIComponent(r.value),png:s.value}})},C=A(["kw","png"],async()=>{const n=await F({page:s.value||1,keyword:r.value||""});console.log(n,"result");const{totalPage:a,page:i,list:p,lasts:t,categories:S}=n;console.log(n,"result"),s.value=i||1,d.value=a,u.value=p,g.value=t,m.value=S});return E("search",C),(n,a)=>{const i=B,p=W;return l(),x("div",$,[c("div",j,[c("div",G,[e(u).length?V("",!0):(l(),f(U,{key:0})),(l(!0),x(q,null,D(e(u),t=>(l(),f(i,{key:`article-${t.id}`,article:t,class:"card-row-item"},null,8,["article"]))),128)),c("div",Q,[v(p,{"current-page":e(s),"onUpdate:currentPage":a[0]||(a[0]=t=>L(s)?s.value=t:null),"page-count":e(d),onCurrentChange:k},null,8,["current-page","page-count"])])]),c("div",T,[v(b,{searchWorld:e(r),"onUpdate:searchWorld":a[1]||(a[1]=t=>L(r)?r.value=t:null),categoriesList:e(m),lastsList:e(g)},null,8,["searchWorld","categoriesList","lastsList"])])])])}}}),ot=I(z,[["__scopeId","data-v-6d53731c"]]);export{ot as default};
