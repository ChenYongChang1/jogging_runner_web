import{g as b,_ as B,a as U,S as W}from"./fw5ugJbl.js";import{a as q}from"./BAked0Tl.js";import{u as E,a as F}from"./CDK1BzrU.js";import{q as N,G as P,H as R,r as o,c as v,a as c,v as x,y as V,u as e,F as I,m as A,b as f,n as y,o as l,_ as D}from"./DfIpqYlo.js";import"./vtIy7DjA.js";import"./Dk2L5Ol8.js";import"./Gi84deNV.js";import"./C9Ak0hGp.js";const $={class:"dd-container"},j={class:"search-box lg:tw-flex xl:tw-pt-[56px] lg:tw-pt-[44px] ss:tw-pt-[32px]"},G={class:"search-content"},H={class:"tw-flex tw-justify-end tw-mt-[42px] max-md:tw-mt-[24px]"},Q={class:"lg:tw-w-[33.9%] xl:tw-pl-[52px] lg:tw-pl-[30px]"},T=N({__name:"search",setup(z){var h,w;const _=P(),L=R(),n=o(((h=_.query.kw)==null?void 0:h.toString())||""),s=o(Number(((w=_.query.png)==null?void 0:w.toString())||1)),d=o(0),u=o([]),g=o([]),m=o([]),k=()=>{L.push({query:{kw:encodeURIComponent(n.value),png:s.value}})},C=b(["kw","png"],async()=>{const r=await F({page:s.value||1,keyword:n.value||""});console.log(r,"result");const{totalPage:a,page:i,list:p,lasts:t,categories:S}=r;console.log(r,"result"),s.value=i||1,d.value=a,u.value=p,m.value=t,g.value=S});return E("search",C),(r,a)=>{const i=U,p=q;return l(),v("div",$,[c("div",j,[c("div",G,[e(u).length?V("",!0):(l(),x(W,{key:0})),(l(!0),v(I,null,A(e(u),t=>(l(),x(i,{key:`article-${t.id}`,article:t,class:"card-row-item"},null,8,["article"]))),128)),c("div",H,[f(p,{"current-page":e(s),"onUpdate:currentPage":a[0]||(a[0]=t=>y(s)?s.value=t:null),"page-count":e(d),onCurrentChange:k},null,8,["current-page","page-count"])])]),c("div",Q,[f(B,{searchWorld:e(n),"onUpdate:searchWorld":a[1]||(a[1]=t=>y(n)?n.value=t:null),categoriesList:e(g),lastsList:e(m)},null,8,["searchWorld","categoriesList","lastsList"])])])])}}}),st=D(T,[["__scopeId","data-v-6d53731c"]]);export{st as default};
