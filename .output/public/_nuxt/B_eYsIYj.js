import{a as O,b as q,c as F,d as M}from"./Ck8w1pAw.js";import{_ as D}from"./F15qSDbu.js";import{r as w,J as K,K as G,m as T,L as H,M as _,w as N,N as P,b as k,O as J,T as Q,P as U,Q as E,R as j,S as R,q as Y,U as Z,u as W,c as h,a as m,F as X,v as ee,o as C,t as b,n as te,_ as se}from"./mCCcBg1a.js";import{u as oe}from"./BYr1t-5l.js";import{r as $,g as x,f as S}from"./CQwSb4dZ.js";import{a as ne}from"./NAMSo2Sj.js";import{g as le}from"./CzS820_z.js";function ae(t){let e;const s=w(!1),o=K({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(n){o.text=n}function a(){const n=o.parent,c=v.ns;if(!n.vLoadingAddClassList){let d=n.getAttribute("loading-number");d=Number.parseInt(d)-1,d?n.setAttribute("loading-number",d.toString()):($(n,c.bm("parent","relative")),n.removeAttribute("loading-number")),$(n,c.bm("parent","hidden"))}i(),u.unmount()}function i(){var n,c;(c=(n=v.$el)==null?void 0:n.parentNode)==null||c.removeChild(v.$el)}function f(){var n;t.beforeClose&&!t.beforeClose()||(s.value=!0,clearTimeout(e),e=setTimeout(g,400),o.visible=!1,(n=t.closed)==null||n.call(t))}function g(){if(!s.value)return;const n=o.parent;s.value=!1,n.vLoadingAddClassList=void 0,a()}const l=T({name:"ElLoading",setup(n,{expose:c}){const{ns:d,zIndex:p}=oe("loading");return c({ns:d,zIndex:p}),()=>{const y=o.spinner||o.svg,I=_("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[_("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),z=o.text?_("p",{class:d.b("text")},[o.text]):void 0;return _(Q,{name:d.b("fade"),onAfterLeave:g},{default:N(()=>[P(k("div",{style:{backgroundColor:o.background||""},class:[d.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[_("div",{class:d.b("spinner")},[I,z])]),[[J,o.visible]])])})}}}),u=G(l),v=u.mount(document.createElement("div"));return{...H(o),setText:r,removeElLoadingChild:i,close:f,handleAfterLeave:g,vm:v,get $el(){return v.$el}}}let L;const re=function(t={}){if(!U)return;const e=ie(t);if(e.fullscreen&&L)return L;const s=ae({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(L=void 0)}});ce(e,e.parent,s),V(e,e.parent,s),e.parent.vLoadingAddClassList=()=>V(e,e.parent,s);let o=e.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",e.parent.setAttribute("loading-number",o),e.parent.appendChild(s.$el),E(()=>s.visible.value=e.visible),e.fullscreen&&(L=s),s},ie=t=>{var e,s,o,r;let a;return j(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((s=t.fullscreen)!=null?s:!0),lock:(o=t.lock)!=null?o:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:a}},ce=async(t,e,s)=>{const{nextZIndex:o}=s.vm.zIndex||s.vm._.exposed.zIndex,r={};if(t.fullscreen)s.originalPosition.value=x(document.body,"position"),s.originalOverflow.value=x(document.body,"overflow"),r.zIndex=o();else if(t.parent===document.body){s.originalPosition.value=x(document.body,"position"),await E();for(const a of["top","left"]){const i=a==="top"?"scrollTop":"scrollLeft";r[a]=`${t.target.getBoundingClientRect()[a]+document.body[i]+document.documentElement[i]-Number.parseInt(x(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])r[a]=`${t.target.getBoundingClientRect()[a]}px`}else s.originalPosition.value=x(e,"position");for(const[a,i]of Object.entries(r))s.$el.style[a]=i},V=(t,e,s)=>{const o=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?$(e,o.bm("parent","relative")):S(e,o.bm("parent","relative")),t.fullscreen&&t.lock?S(e,o.bm("parent","hidden")):$(e,o.bm("parent","hidden"))},B=Symbol("ElLoading"),A=(t,e)=>{var s,o,r,a;const i=e.instance,f=n=>R(e.value)?e.value[n]:void 0,g=n=>{const c=j(n)&&(i==null?void 0:i[n])||n;return c&&w(c)},l=n=>g(f(n)||t.getAttribute(`element-loading-${Z(n)}`)),u=(s=f("fullscreen"))!=null?s:e.modifiers.fullscreen,v={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:u,target:(o=f("target"))!=null?o:u?void 0:t,body:(r=f("body"))!=null?r:e.modifiers.body,lock:(a=f("lock"))!=null?a:e.modifiers.lock};t[B]={options:v,instance:re(v)}},ue=(t,e)=>{for(const s of Object.keys(e))Y(e[s])&&(e[s].value=t[s])},de={mounted(t,e){e.value&&A(t,e)},updated(t,e){const s=t[B];e.oldValue!==e.value&&(e.value&&!e.oldValue?A(t,e):e.value&&e.oldValue?R(e.value)&&ue(e.value,s.options):s==null||s.instance.close())},unmounted(t){var e;(e=t[B])==null||e.instance.close(),t[B]=null}},ve={class:"bwList tw-mx-auto"},me={class:"bw-list-main tw-flex tw-flex-wrap tw-justify-between tw-gap-4"},fe={class:"bw-list-item-title"},pe={class:"bw-list-item-content"},ge={class:"look-nums tw-flex tw-mt-[10px]"},we={class:"tw-text-[14px] tw-font-[500] tw-text-text999"},_e={class:"tw-flex tw-justify-end"},be={class:"tw-flex tw-justify-center"},xe={class:"tw-mr-[6px]"},ye={class:"tw-flex tw-justify-end tw-mt-[42px] max-md:tw-mt-[24px]"},he=T({__name:"BwList",props:{searchValue:{type:String,required:!1,default:""}},setup(t){const e=t,s=w([]),o=w(0),r=w(1),a=w(!1),i=async()=>{a.value=!0;try{const l=await ne({page:r.value,alias:"",keyword:e.searchValue});o.value=l==null?void 0:l.totalPage,r.value=l==null?void 0:l.page,s.value=l==null?void 0:l.list}catch(l){console.log(l)}finally{a.value=!1}},f=l=>{r.value=l,i()};W();const g=l=>{const u=le(`/post/${l.id}.html`);te(u)};return i(),(l,u)=>{const v=q,n=D,c=O,d=de;return C(),h("div",ve,[P((C(),h("div",me,[(C(!0),h(X,null,ee(s.value,(p,y)=>(C(),h("div",{class:"bw-list-item tw-w-full sm:tw-w-[48%] lg:tw-w-[29.3%] tw-px-[16px] tw-pt-[16px] tw-pb-[22px]",key:y},[k(v,{class:"tw-mb-[20px] tw-rounded-[26px] tw-w-[100%] tw-min-h-[229px]",src:p.cover,type:p.isVideo===1?"image":"video"},null,8,["src","type"]),m("div",fe,b(p.title),1),m("div",pe,b(p.desc),1),m("div",ge,[u[0]||(u[0]=m("img",{src:F,class:"tw-w-[18px] tw-mr-[8px]",loading:"lazy",alt:""},null,-1)),m("span",we,b(p.visitNum)+b(l.$t("common.万人看过")),1)]),m("div",_e,[k(n,{type:"border",class:"tw-w-[140px] tw-text-center",onClick:I=>g(p)},{default:N(()=>[m("div",be,[m("span",xe,b(l.$t("common.阅读全文")),1),u[1]||(u[1]=m("img",{src:M,loading:"lazy",class:"tw-w-[18px]",alt:""},null,-1))])]),_:2},1032,["onClick"])])]))),128))])),[[d,a.value]]),m("div",ye,[k(c,{"current-page":r.value,"page-count":o.value,onCurrentChange:f},null,8,["current-page","page-count"])])])}}}),Ve=se(he,[["__scopeId","data-v-e68b793f"]]);export{Ve as B};
