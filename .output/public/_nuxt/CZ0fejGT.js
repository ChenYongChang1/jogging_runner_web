import{u as g,b as p}from"./Br_K6izv.js";import{m as _,c as l,o as m,a as t,t as i,d as w,_ as f,b as v,R as y,S as h,U as b,r as R,B as x,E as $,p as d}from"./DqcxQPwl.js";const B={class:"goods-row"},N={class:"goods-img"},S=["src"],C={class:"goods-next"},G={class:"goods-title"},I={class:"goods-buy"},T={class:"goods-price"},k=_({__name:"BwGoodsRow",props:{goodsRow:{type:Object,default:()=>({})}},setup(e){const n=e,c=()=>{let o={timestamp:Date.now(),type:"buyGoods",data:{id:n.goodsRow.id,url:n.goodsRow.url,goods:n.goodsRow}},s=JSON.stringify(o);JSCallNative.postMessage(s)};return(o,s)=>(m(),l("div",B,[t("div",N,[t("img",{src:e.goodsRow.cover,alt:""},null,8,S)]),t("div",C,[t("div",G,i(e.goodsRow.title),1),t("div",I,[t("div",T,[s[0]||(s[0]=t("span",null,"¥",-1)),w(" "+i(((e.goodsRow.price||0)/100).toFixed(2)),1)]),t("div",{class:"goods-tobuy",onClick:c},i(o.$t("common.立即购买")),1)])])]))}}),M=f(k,[["__scopeId","data-v-90907ebb"]]),V=(e,n)=>{const c={};let o=0;const s=e.replace(/##insert_goods##/g,()=>{const a=`goods-${o}`;return c[a]=n[o++],o>n.length&&(o=0),`<div class="${a}"></div>`});return setTimeout(()=>{for(const a in c){const r=document.querySelector(`.${a}`),u=v(M,{goodsRow:c[a]});y(u,r)}}),s},A={class:"tw-px-[1rem] tw-py-[0.5rem]"},D=["src","alt"],H={class:"tw-text-basecolor tw-font-[500] tw-text-[1.25rem] tw-mb-[1rem]"},j=["innerHTML"],L=_({__name:"info-[id]",setup(e){h("none");const c=b().params.id,o=R({}),s=async()=>{o.value=await p(c)},a=x(()=>{var r;return V(((r=o.value)==null?void 0:r.content)||"",o.value.relGoods)});return g("info",s),(r,u)=>(m(),l("div",A,[d(o).cover?(m(),l("img",{key:0,class:"tw-w-full tw-object-contain tw-mb-[1.25rem]",src:d(o).cover,alt:d(o).title},null,8,D)):$("",!0),t("h1",H,i(d(o).title),1),t("div",{innerHTML:d(a)},null,8,j)]))}});export{L as _};
