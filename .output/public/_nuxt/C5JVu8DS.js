import{u as g,b as p}from"./CDK1BzrU.js";import{q as m,c as i,o as l,a as t,t as u,d as w,_ as f,b as v,D as y,E as h,G as b,r as R,s as x,y as N,u as r}from"./DfIpqYlo.js";const $={class:"goods-row"},B={class:"goods-img"},G=["src"],C={class:"goods-next"},I={class:"goods-title"},S={class:"goods-buy"},T={class:"goods-price"},k=m({__name:"BwGoodsRow",props:{goodsRow:{type:Object,default:()=>({})}},setup(e){const n=e,c=()=>{let o={timestamp:Date.now(),type:"buyGoods",data:{id:n.goodsRow.id,url:n.goodsRow.url,goods:n.goodsRow}},s=JSON.stringify(o);JSCallNative.postMessage(s)};return(o,s)=>(l(),i("div",$,[t("div",B,[t("img",{src:e.goodsRow.cover,alt:""},null,8,G)]),t("div",C,[t("div",I,u(e.goodsRow.title),1),t("div",S,[t("div",T,[s[0]||(s[0]=t("span",null,"¥",-1)),w(" "+u(((e.goodsRow.price||0)/100).toFixed(2)),1)]),t("div",{class:"goods-tobuy",onClick:c},"立即购买")])])]))}}),D=f(k,[["__scopeId","data-v-ebd7c69e"]]),M=(e,n)=>{const c={};let o=0;const s=e.replace(/##insert_goods##/g,()=>{const a=`goods-${o}`;return c[a]=n[o++],o>n.length&&(o=0),`<div class="${a}"></div>`});return setTimeout(()=>{for(const a in c){const d=document.querySelector(`.${a}`),_=v(D,{goodsRow:c[a]});y(_,d)}}),s},V={class:"tw-px-[1rem] tw-py-[0.5rem]"},A=["src","alt"],H={class:"tw-text-basecolor tw-font-[500] tw-text-[1.25rem] tw-mb-[1rem]"},j=["innerHTML"],J=m({__name:"info-[id]",setup(e){h("none");const c=b().params.id,o=R({}),s=async()=>{o.value=await p(c)},a=x(()=>{var d;return M(((d=o.value)==null?void 0:d.content)||"",o.value.relGoods)});return g("info",s),(d,_)=>(l(),i("div",V,[r(o).cover?(l(),i("img",{key:0,class:"tw-w-full tw-object-contain tw-mb-[1.25rem]",src:r(o).cover,alt:r(o).title},null,8,A)):N("",!0),t("h1",H,u(r(o).title),1),t("div",{innerHTML:r(a)},null,8,j)]))}});export{J as _};
